                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.8.0 #10562 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _fs2ulong
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl ___fs2ulong
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 ;--------------------------------------------------------
                             16 ; ram data
                             17 ;--------------------------------------------------------
                             18 	.area _DATA
                             19 ;--------------------------------------------------------
                             20 ; ram data
                             21 ;--------------------------------------------------------
                             22 	.area _INITIALIZED
                             23 ;--------------------------------------------------------
                             24 ; absolute external ram data
                             25 ;--------------------------------------------------------
                             26 	.area _DABS (ABS)
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                     0000    38 	G$__fs2ulong$0$0	= .
                             39 	.globl	G$__fs2ulong$0$0
                     0000    40 	C$_fs2ulong.c$60$0_0$21	= .
                             41 	.globl	C$_fs2ulong.c$60$0_0$21
                             42 ;_fs2ulong.c:60: __fs2ulong (float a1)
                             43 ;	---------------------------------
                             44 ; Function __fs2ulong
                             45 ; ---------------------------------
   0000                      46 ___fs2ulong::
   0000 DD E5         [15]   47 	push	ix
   0002 DD 21 00 00   [14]   48 	ld	ix,#0
   0006 DD 39         [15]   49 	add	ix,sp
   0008 21 F6 FF      [10]   50 	ld	hl, #-10
   000B 39            [11]   51 	add	hl, sp
   000C F9            [ 6]   52 	ld	sp, hl
                     000D    53 	C$_fs2ulong.c$66$1_0$21	= .
                             54 	.globl	C$_fs2ulong.c$66$1_0$21
                             55 ;_fs2ulong.c:66: fl1.f = a1;
   000D 21 06 00      [10]   56 	ld	hl, #0x0006
   0010 39            [11]   57 	add	hl, sp
   0011 EB            [ 4]   58 	ex	de, hl
   0012 21 0E 00      [10]   59 	ld	hl, #0x000e
   0015 39            [11]   60 	add	hl, sp
   0016 01 04 00      [10]   61 	ld	bc, #0x0004
   0019 ED B0         [21]   62 	ldir
                     001B    63 	C$_fs2ulong.c$68$1_0$21	= .
                             64 	.globl	C$_fs2ulong.c$68$1_0$21
                             65 ;_fs2ulong.c:68: if (!fl1.l || SIGN(fl1.l))
   001B 21 06 00      [10]   66 	ld	hl, #0x0006
   001E 39            [11]   67 	add	hl, sp
   001F 4E            [ 7]   68 	ld	c, (hl)
   0020 23            [ 6]   69 	inc	hl
   0021 46            [ 7]   70 	ld	b, (hl)
   0022 23            [ 6]   71 	inc	hl
   0023 7E            [ 7]   72 	ld	a, (hl)
   0024 23            [ 6]   73 	inc	hl
   0025 B6            [ 7]   74 	or	a, (hl)
   0026 B0            [ 4]   75 	or	a, b
   0027 B1            [ 4]   76 	or	a, c
   0028 28 11         [12]   77 	jr	Z,00101$
   002A 21 06 00      [10]   78 	ld	hl, #0x0006
   002D 39            [11]   79 	add	hl, sp
   002E 4E            [ 7]   80 	ld	c, (hl)
   002F 23            [ 6]   81 	inc	hl
   0030 46            [ 7]   82 	ld	b, (hl)
   0031 23            [ 6]   83 	inc	hl
   0032 5E            [ 7]   84 	ld	e, (hl)
   0033 23            [ 6]   85 	inc	hl
   0034 7E            [ 7]   86 	ld	a, (hl)
   0035 CB 07         [ 8]   87 	rlc	a
   0037 E6 01         [ 7]   88 	and	a,#0x01
   0039 28 07         [12]   89 	jr	Z,00102$
   003B                      90 00101$:
                     003B    91 	C$_fs2ulong.c$69$1_0$21	= .
                             92 	.globl	C$_fs2ulong.c$69$1_0$21
                             93 ;_fs2ulong.c:69: return (0);
   003B 21 00 00      [10]   94 	ld	hl,#0x0000
   003E 5D            [ 4]   95 	ld	e,l
   003F 54            [ 4]   96 	ld	d,h
   0040 18 68         [12]   97 	jr	00104$
   0042                      98 00102$:
                     0042    99 	C$_fs2ulong.c$71$1_0$21	= .
                            100 	.globl	C$_fs2ulong.c$71$1_0$21
                            101 ;_fs2ulong.c:71: exp = EXP (fl1.l) - EXCESS - 24;
   0042 21 06 00      [10]  102 	ld	hl, #0x0006
   0045 39            [11]  103 	add	hl, sp
   0046 4E            [ 7]  104 	ld	c, (hl)
   0047 23            [ 6]  105 	inc	hl
   0048 46            [ 7]  106 	ld	b, (hl)
   0049 23            [ 6]  107 	inc	hl
   004A 5E            [ 7]  108 	ld	e, (hl)
   004B 23            [ 6]  109 	inc	hl
   004C 56            [ 7]  110 	ld	d, (hl)
   004D 06 07         [ 7]  111 	ld	b, #0x07
   004F                     112 00111$:
   004F CB 3A         [ 8]  113 	srl	d
   0051 CB 1B         [ 8]  114 	rr	e
   0053 10 FA         [13]  115 	djnz	00111$
   0055 0E 00         [ 7]  116 	ld	c, #0x00
   0057 7B            [ 4]  117 	ld	a, e
   0058 C6 6A         [ 7]  118 	add	a, #0x6a
   005A DD 77 FA      [19]  119 	ld	-6 (ix), a
   005D 79            [ 4]  120 	ld	a, c
   005E CE FF         [ 7]  121 	adc	a, #0xff
   0060 DD 77 FB      [19]  122 	ld	-5 (ix), a
                     0063   123 	C$_fs2ulong.c$72$1_0$21	= .
                            124 	.globl	C$_fs2ulong.c$72$1_0$21
                            125 ;_fs2ulong.c:72: l = MANT (fl1.l);
   0063 21 06 00      [10]  126 	ld	hl, #0x0006
   0066 39            [11]  127 	add	hl, sp
   0067 4E            [ 7]  128 	ld	c, (hl)
   0068 23            [ 6]  129 	inc	hl
   0069 46            [ 7]  130 	ld	b, (hl)
   006A 23            [ 6]  131 	inc	hl
   006B 5E            [ 7]  132 	ld	e, (hl)
   006C 23            [ 6]  133 	inc	hl
   006D 56            [ 7]  134 	ld	d, (hl)
   006E 16 00         [ 7]  135 	ld	d, #0x00
   0070 DD 71 F6      [19]  136 	ld	-10 (ix), c
   0073 DD 70 F7      [19]  137 	ld	-9 (ix), b
   0076 7B            [ 4]  138 	ld	a, e
   0077 F6 80         [ 7]  139 	or	a, #0x80
   0079 DD 77 F8      [19]  140 	ld	-8 (ix), a
   007C DD 72 F9      [19]  141 	ld	-7 (ix), d
                     007F   142 	C$_fs2ulong.c$74$1_0$21	= .
                            143 	.globl	C$_fs2ulong.c$74$1_0$21
                            144 ;_fs2ulong.c:74: l >>= -exp;
   007F AF            [ 4]  145 	xor	a, a
   0080 DD 96 FA      [19]  146 	sub	a, -6 (ix)
   0083 47            [ 4]  147 	ld	b, a
   0084 3E 00         [ 7]  148 	ld	a, #0x00
   0086 DD 9E FB      [19]  149 	sbc	a, -5 (ix)
   0089 04            [ 4]  150 	inc	b
   008A 18 10         [12]  151 	jr	00114$
   008C                     152 00113$:
   008C DD CB F9 2E   [23]  153 	sra	-7 (ix)
   0090 DD CB F8 1E   [23]  154 	rr	-8 (ix)
   0094 DD CB F7 1E   [23]  155 	rr	-9 (ix)
   0098 DD CB F6 1E   [23]  156 	rr	-10 (ix)
   009C                     157 00114$:
   009C 10 EE         [13]  158 	djnz	00113$
                     009E   159 	C$_fs2ulong.c$76$1_0$21	= .
                            160 	.globl	C$_fs2ulong.c$76$1_0$21
                            161 ;_fs2ulong.c:76: return l;
   009E DD 6E F6      [19]  162 	ld	l, -10 (ix)
   00A1 DD 66 F7      [19]  163 	ld	h, -9 (ix)
   00A4 DD 5E F8      [19]  164 	ld	e, -8 (ix)
   00A7 DD 56 F9      [19]  165 	ld	d, -7 (ix)
   00AA                     166 00104$:
                     00AA   167 	C$_fs2ulong.c$77$1_0$21	= .
                            168 	.globl	C$_fs2ulong.c$77$1_0$21
                            169 ;_fs2ulong.c:77: }
   00AA DD F9         [10]  170 	ld	sp, ix
   00AC DD E1         [14]  171 	pop	ix
                     00AE   172 	C$_fs2ulong.c$77$1_0$21	= .
                            173 	.globl	C$_fs2ulong.c$77$1_0$21
                     00AE   174 	XG$__fs2ulong$0$0	= .
                            175 	.globl	XG$__fs2ulong$0$0
   00AE C9            [10]  176 	ret
                            177 	.area _HOME
                            178 ;--------------------------------------------------------
                            179 ; code
                            180 ;--------------------------------------------------------
                            181 	.area _CODE
                            182 	.area _CODE
                            183 	.area _INITIALIZER
                            184 	.area _CABS (ABS)
