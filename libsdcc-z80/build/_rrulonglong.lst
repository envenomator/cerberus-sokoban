                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.8.0 #10562 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _rrulonglong
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl __rrulonglong
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 ;--------------------------------------------------------
                             16 ; ram data
                             17 ;--------------------------------------------------------
                             18 	.area _DATA
                             19 ;--------------------------------------------------------
                             20 ; ram data
                             21 ;--------------------------------------------------------
                             22 	.area _INITIALIZED
                             23 ;--------------------------------------------------------
                             24 ; absolute external ram data
                             25 ;--------------------------------------------------------
                             26 	.area _DABS (ABS)
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                     0000    38 	G$_rrulonglong$0$0	= .
                             39 	.globl	G$_rrulonglong$0$0
                     0000    40 	C$_rrulonglong.c$3$0_0$2	= .
                             41 	.globl	C$_rrulonglong.c$3$0_0$2
                             42 ;_rrulonglong.c:3: unsigned long long _rrulonglong(unsigned long long l, char s)
                             43 ;	---------------------------------
                             44 ; Function _rrulonglong
                             45 ; ---------------------------------
   0000                      46 __rrulonglong::
   0000 DD E5         [15]   47 	push	ix
   0002 DD 21 00 00   [14]   48 	ld	ix,#0
   0006 DD 39         [15]   49 	add	ix,sp
   0008 21 F4 FF      [10]   50 	ld	hl, #-12
   000B 39            [11]   51 	add	hl, sp
   000C F9            [ 6]   52 	ld	sp, hl
                     000D    53 	C$_rrulonglong.c$5$1_0$2	= .
                             54 	.globl	C$_rrulonglong.c$5$1_0$2
                             55 ;_rrulonglong.c:5: uint32_t *const top = (uint32_t *)((char *)(&l) + 4);
   000D 21 12 00      [10]   56 	ld	hl, #0x0012
   0010 39            [11]   57 	add	hl, sp
   0011 4D            [ 4]   58 	ld	c, l
   0012 44            [ 4]   59 	ld	b, h
   0013 03            [ 6]   60 	inc	bc
   0014 03            [ 6]   61 	inc	bc
   0015 03            [ 6]   62 	inc	bc
   0016 03            [ 6]   63 	inc	bc
                     0017    64 	C$_rrulonglong.c$6$1_0$2	= .
                             65 	.globl	C$_rrulonglong.c$6$1_0$2
                             66 ;_rrulonglong.c:6: uint16_t *const middle = (uint16_t *)((char *)(&l) + 4);
   0017 5D            [ 4]   67 	ld	e, l
   0018 54            [ 4]   68 	ld	d, h
   0019 13            [ 6]   69 	inc	de
   001A 13            [ 6]   70 	inc	de
   001B 13            [ 6]   71 	inc	de
   001C 13            [ 6]   72 	inc	de
   001D DD 73 FE      [19]   73 	ld	-2 (ix), e
   0020 DD 72 FF      [19]   74 	ld	-1 (ix), d
                     0023    75 	C$_rrulonglong.c$7$1_0$2	= .
                             76 	.globl	C$_rrulonglong.c$7$1_0$2
                             77 ;_rrulonglong.c:7: uint32_t *const bottom = (uint32_t *)(&l);
   0023 5D            [ 4]   78 	ld	e, l
   0024 54            [ 4]   79 	ld	d, h
   0025 DD 73 FC      [19]   80 	ld	-4 (ix), e
   0028 DD 72 FD      [19]   81 	ld	-3 (ix), d
                     002B    82 	C$_rrulonglong.c$8$1_0$2	= .
                             83 	.globl	C$_rrulonglong.c$8$1_0$2
                             84 ;_rrulonglong.c:8: uint16_t *const b = (uint16_t *)(&l);
   002B DD 75 FA      [19]   85 	ld	-6 (ix), l
   002E DD 74 FB      [19]   86 	ld	-5 (ix), h
                     0031    87 	C$_rrulonglong.c$18$2_0$3	= .
                             88 	.globl	C$_rrulonglong.c$18$2_0$3
                             89 ;_rrulonglong.c:18: (*bottom) >>= s;
   0031                      90 00103$:
                     0031    91 	C$_rrulonglong.c$10$2_0$3	= .
                             92 	.globl	C$_rrulonglong.c$10$2_0$3
                             93 ;_rrulonglong.c:10: for(;s >= 16; s -= 16)
   0031 DD 7E 0E      [19]   94 	ld	a, 14 (ix)
   0034 D6 10         [ 7]   95 	sub	a, #0x10
   0036 38 5A         [12]   96 	jr	C,00101$
                     0038    97 	C$_rrulonglong.c$12$3_0$4	= .
                             98 	.globl	C$_rrulonglong.c$12$3_0$4
                             99 ;_rrulonglong.c:12: b[0] = b[1];
   0038 DD 7E FA      [19]  100 	ld	a, -6 (ix)
   003B C6 02         [ 7]  101 	add	a, #0x02
   003D DD 77 F4      [19]  102 	ld	-12 (ix), a
   0040 DD 7E FB      [19]  103 	ld	a, -5 (ix)
   0043 CE 00         [ 7]  104 	adc	a, #0x00
   0045 DD 77 F5      [19]  105 	ld	-11 (ix), a
   0048 E1            [10]  106 	pop	hl
   0049 E5            [11]  107 	push	hl
   004A 5E            [ 7]  108 	ld	e, (hl)
   004B 23            [ 6]  109 	inc	hl
   004C 56            [ 7]  110 	ld	d, (hl)
   004D DD 6E FA      [19]  111 	ld	l, -6 (ix)
   0050 DD 66 FB      [19]  112 	ld	h, -5 (ix)
   0053 73            [ 7]  113 	ld	(hl), e
   0054 23            [ 6]  114 	inc	hl
   0055 72            [ 7]  115 	ld	(hl), d
                     0056   116 	C$_rrulonglong.c$13$3_0$4	= .
                            117 	.globl	C$_rrulonglong.c$13$3_0$4
                            118 ;_rrulonglong.c:13: b[1] = b[2];
   0056 FD 21 04 00   [14]  119 	ld	iy, #0x0004
   005A DD 5E FA      [19]  120 	ld	e, -6 (ix)
   005D DD 56 FB      [19]  121 	ld	d, -5 (ix)
   0060 FD 19         [15]  122 	add	iy, de
   0062 FD 5E 00      [19]  123 	ld	e, 0 (iy)
   0065 FD 56 01      [19]  124 	ld	d, 1 (iy)
   0068 E1            [10]  125 	pop	hl
   0069 E5            [11]  126 	push	hl
   006A 73            [ 7]  127 	ld	(hl), e
   006B 23            [ 6]  128 	inc	hl
   006C 72            [ 7]  129 	ld	(hl), d
                     006D   130 	C$_rrulonglong.c$14$3_0$4	= .
                            131 	.globl	C$_rrulonglong.c$14$3_0$4
                            132 ;_rrulonglong.c:14: b[2] = b[3];
   006D DD 7E FA      [19]  133 	ld	a, -6 (ix)
   0070 C6 06         [ 7]  134 	add	a, #0x06
   0072 6F            [ 4]  135 	ld	l, a
   0073 DD 7E FB      [19]  136 	ld	a, -5 (ix)
   0076 CE 00         [ 7]  137 	adc	a, #0x00
   0078 67            [ 4]  138 	ld	h, a
   0079 E5            [11]  139 	push	hl
   007A 5E            [ 7]  140 	ld	e, (hl)
   007B 23            [ 6]  141 	inc	hl
   007C 56            [ 7]  142 	ld	d, (hl)
   007D E1            [10]  143 	pop	hl
   007E FD 73 00      [19]  144 	ld	0 (iy), e
   0081 FD 72 01      [19]  145 	ld	1 (iy), d
                     0084   146 	C$_rrulonglong.c$15$3_0$4	= .
                            147 	.globl	C$_rrulonglong.c$15$3_0$4
                            148 ;_rrulonglong.c:15: b[3] = 0x000000;
   0084 AF            [ 4]  149 	xor	a, a
   0085 77            [ 7]  150 	ld	(hl), a
   0086 23            [ 6]  151 	inc	hl
   0087 77            [ 7]  152 	ld	(hl), a
                     0088   153 	C$_rrulonglong.c$10$2_0$3	= .
                            154 	.globl	C$_rrulonglong.c$10$2_0$3
                            155 ;_rrulonglong.c:10: for(;s >= 16; s -= 16)
   0088 DD 7E 0E      [19]  156 	ld	a, 14 (ix)
   008B C6 F0         [ 7]  157 	add	a, #0xf0
   008D DD 77 0E      [19]  158 	ld	14 (ix), a
   0090 18 9F         [12]  159 	jr	00103$
   0092                     160 00101$:
                     0092   161 	C$_rrulonglong.c$18$1_0$2	= .
                            162 	.globl	C$_rrulonglong.c$18$1_0$2
                            163 ;_rrulonglong.c:18: (*bottom) >>= s;
   0092 DD 6E FC      [19]  164 	ld	l, -4 (ix)
   0095 DD 66 FD      [19]  165 	ld	h, -3 (ix)
   0098 5E            [ 7]  166 	ld	e, (hl)
   0099 23            [ 6]  167 	inc	hl
   009A 56            [ 7]  168 	ld	d, (hl)
   009B 23            [ 6]  169 	inc	hl
   009C 23            [ 6]  170 	inc	hl
   009D 7E            [ 7]  171 	ld	a, (hl)
   009E 2B            [ 6]  172 	dec	hl
   009F 6E            [ 7]  173 	ld	l, (hl)
   00A0 67            [ 4]  174 	ld	h, a
   00A1 DD 7E 0E      [19]  175 	ld	a, 14 (ix)
   00A4 DD 73 F6      [19]  176 	ld	-10 (ix), e
   00A7 DD 72 F7      [19]  177 	ld	-9 (ix), d
   00AA DD 75 F8      [19]  178 	ld	-8 (ix), l
   00AD DD 74 F9      [19]  179 	ld	-7 (ix), h
   00B0 3C            [ 4]  180 	inc	a
   00B1 18 10         [12]  181 	jr	00118$
   00B3                     182 00117$:
   00B3 DD CB F9 3E   [23]  183 	srl	-7 (ix)
   00B7 DD CB F8 1E   [23]  184 	rr	-8 (ix)
   00BB DD CB F7 1E   [23]  185 	rr	-9 (ix)
   00BF DD CB F6 1E   [23]  186 	rr	-10 (ix)
   00C3                     187 00118$:
   00C3 3D            [ 4]  188 	dec	a
   00C4 20 ED         [12]  189 	jr	NZ, 00117$
   00C6 C5            [11]  190 	push	bc
   00C7 DD 5E FC      [19]  191 	ld	e, -4 (ix)
   00CA DD 56 FD      [19]  192 	ld	d, -3 (ix)
   00CD 21 04 00      [10]  193 	ld	hl, #0x0004
   00D0 39            [11]  194 	add	hl, sp
   00D1 01 04 00      [10]  195 	ld	bc, #0x0004
   00D4 ED B0         [21]  196 	ldir
   00D6 C1            [10]  197 	pop	bc
                     00D7   198 	C$_rrulonglong.c$19$1_0$2	= .
                            199 	.globl	C$_rrulonglong.c$19$1_0$2
                            200 ;_rrulonglong.c:19: (*middle) |= (uint16_t)(((uint32_t)(*middle) << 16) >> s);
   00D7 DD 6E FE      [19]  201 	ld	l, -2 (ix)
   00DA DD 66 FF      [19]  202 	ld	h, -1 (ix)
   00DD 7E            [ 7]  203 	ld	a, (hl)
   00DE DD 77 F6      [19]  204 	ld	-10 (ix), a
   00E1 23            [ 6]  205 	inc	hl
   00E2 7E            [ 7]  206 	ld	a, (hl)
   00E3 DD 77 F7      [19]  207 	ld	-9 (ix), a
   00E6 DD 5E F6      [19]  208 	ld	e, -10 (ix)
   00E9 DD 56 F7      [19]  209 	ld	d, -9 (ix)
   00EC 21 00 00      [10]  210 	ld	hl, #0x0000
   00EF DD 7E 0E      [19]  211 	ld	a, 14 (ix)
   00F2 3C            [ 4]  212 	inc	a
   00F3 18 08         [12]  213 	jr	00122$
   00F5                     214 00121$:
   00F5 CB 3A         [ 8]  215 	srl	d
   00F7 CB 1B         [ 8]  216 	rr	e
   00F9 CB 1C         [ 8]  217 	rr	h
   00FB CB 1D         [ 8]  218 	rr	l
   00FD                     219 00122$:
   00FD 3D            [ 4]  220 	dec	a
   00FE 20 F5         [12]  221 	jr	NZ, 00121$
   0100 DD 7E F6      [19]  222 	ld	a, -10 (ix)
   0103 B5            [ 4]  223 	or	a, l
   0104 5F            [ 4]  224 	ld	e, a
   0105 DD 7E F7      [19]  225 	ld	a, -9 (ix)
   0108 B4            [ 4]  226 	or	a, h
   0109 57            [ 4]  227 	ld	d, a
   010A DD 6E FE      [19]  228 	ld	l, -2 (ix)
   010D DD 66 FF      [19]  229 	ld	h, -1 (ix)
   0110 73            [ 7]  230 	ld	(hl), e
   0111 23            [ 6]  231 	inc	hl
   0112 72            [ 7]  232 	ld	(hl), d
                     0113   233 	C$_rrulonglong.c$20$1_0$2	= .
                            234 	.globl	C$_rrulonglong.c$20$1_0$2
                            235 ;_rrulonglong.c:20: (*top) |= (((*middle) & 0xffff0000ul) >> s);
   0113 D5            [11]  236 	push	de
   0114 C5            [11]  237 	push	bc
   0115 59            [ 4]  238 	ld	e, c
   0116 50            [ 4]  239 	ld	d, b
   0117 21 06 00      [10]  240 	ld	hl, #0x0006
   011A 39            [11]  241 	add	hl, sp
   011B EB            [ 4]  242 	ex	de, hl
   011C 01 04 00      [10]  243 	ld	bc, #0x0004
   011F ED B0         [21]  244 	ldir
   0121 C1            [10]  245 	pop	bc
   0122 D1            [10]  246 	pop	de
   0123 21 00 00      [10]  247 	ld	hl,#0x0000
   0126 5D            [ 4]  248 	ld	e,l
   0127 54            [ 4]  249 	ld	d,h
   0128 DD 7E 0E      [19]  250 	ld	a, 14 (ix)
   012B 3C            [ 4]  251 	inc	a
   012C 18 08         [12]  252 	jr	00124$
   012E                     253 00123$:
   012E CB 3C         [ 8]  254 	srl	h
   0130 CB 1D         [ 8]  255 	rr	l
   0132 CB 1A         [ 8]  256 	rr	d
   0134 CB 1B         [ 8]  257 	rr	e
   0136                     258 00124$:
   0136 3D            [ 4]  259 	dec	a
   0137 20 F5         [12]  260 	jr	NZ, 00123$
   0139 DD 7E F6      [19]  261 	ld	a, -10 (ix)
   013C B3            [ 4]  262 	or	a, e
   013D DD 77 F6      [19]  263 	ld	-10 (ix), a
   0140 DD 7E F7      [19]  264 	ld	a, -9 (ix)
   0143 B2            [ 4]  265 	or	a, d
   0144 DD 77 F7      [19]  266 	ld	-9 (ix), a
   0147 DD 7E F8      [19]  267 	ld	a, -8 (ix)
   014A B5            [ 4]  268 	or	a, l
   014B DD 77 F8      [19]  269 	ld	-8 (ix), a
   014E DD 7E F9      [19]  270 	ld	a, -7 (ix)
   0151 B4            [ 4]  271 	or	a, h
   0152 DD 77 F9      [19]  272 	ld	-7 (ix), a
   0155 59            [ 4]  273 	ld	e, c
   0156 50            [ 4]  274 	ld	d, b
   0157 21 02 00      [10]  275 	ld	hl, #0x0002
   015A 39            [11]  276 	add	hl, sp
   015B 01 04 00      [10]  277 	ld	bc, #0x0004
   015E ED B0         [21]  278 	ldir
                     0160   279 	C$_rrulonglong.c$22$1_0$2	= .
                            280 	.globl	C$_rrulonglong.c$22$1_0$2
                            281 ;_rrulonglong.c:22: return(l);
   0160 21 10 00      [10]  282 	ld	hl,#16
   0163 39            [11]  283 	add	hl,sp
   0164 5E            [ 7]  284 	ld	e, (hl)
   0165 23            [ 6]  285 	inc	hl
   0166 56            [ 7]  286 	ld	d, (hl)
   0167 21 12 00      [10]  287 	ld	hl, #18
   016A 39            [11]  288 	add	hl, sp
   016B 01 08 00      [10]  289 	ld	bc, #8
   016E ED B0         [21]  290 	ldir
                     0170   291 	C$_rrulonglong.c$23$1_0$2	= .
                            292 	.globl	C$_rrulonglong.c$23$1_0$2
                            293 ;_rrulonglong.c:23: }
   0170 DD F9         [10]  294 	ld	sp, ix
   0172 DD E1         [14]  295 	pop	ix
                     0174   296 	C$_rrulonglong.c$23$1_0$2	= .
                            297 	.globl	C$_rrulonglong.c$23$1_0$2
                     0174   298 	XG$_rrulonglong$0$0	= .
                            299 	.globl	XG$_rrulonglong$0$0
   0174 C9            [10]  300 	ret
                            301 	.area _HOME
                            302 ;--------------------------------------------------------
                            303 ; code
                            304 ;--------------------------------------------------------
                            305 	.area _CODE
                            306 	.area _CODE
                            307 	.area _INITIALIZER
                            308 	.area _CABS (ABS)
