                              1 ;--------------------------------------------------------
                              2 ; File Created by SDCC : free open source ANSI-C Compiler
                              3 ; Version 3.8.0 #10562 (Linux)
                              4 ;--------------------------------------------------------
                              5 	.module _ulong2fs
                              6 	.optsdcc -mz80
                              7 	
                              8 ;--------------------------------------------------------
                              9 ; Public variables in this module
                             10 ;--------------------------------------------------------
                             11 	.globl ___ulong2fs
                             12 ;--------------------------------------------------------
                             13 ; special function registers
                             14 ;--------------------------------------------------------
                             15 ;--------------------------------------------------------
                             16 ; ram data
                             17 ;--------------------------------------------------------
                             18 	.area _DATA
                             19 ;--------------------------------------------------------
                             20 ; ram data
                             21 ;--------------------------------------------------------
                             22 	.area _INITIALIZED
                             23 ;--------------------------------------------------------
                             24 ; absolute external ram data
                             25 ;--------------------------------------------------------
                             26 	.area _DABS (ABS)
                             27 ;--------------------------------------------------------
                             28 ; global & static initialisations
                             29 ;--------------------------------------------------------
                             30 	.area _HOME
                             31 	.area _GSINIT
                             32 	.area _GSFINAL
                             33 	.area _GSINIT
                             34 ;--------------------------------------------------------
                             35 ; Home
                             36 ;--------------------------------------------------------
                             37 	.area _HOME
                     0000    38 	G$__ulong2fs$0$0	= .
                             39 	.globl	G$__ulong2fs$0$0
                     0000    40 	C$_ulong2fs.c$58$0_0$21	= .
                             41 	.globl	C$_ulong2fs.c$58$0_0$21
                             42 ;_ulong2fs.c:58: float __ulong2fs (unsigned long a )
                             43 ;	---------------------------------
                             44 ; Function __ulong2fs
                             45 ; ---------------------------------
   0000                      46 ___ulong2fs::
   0000 DD E5         [15]   47 	push	ix
   0002 DD 21 00 00   [14]   48 	ld	ix,#0
   0006 DD 39         [15]   49 	add	ix,sp
   0008 F5            [11]   50 	push	af
   0009 F5            [11]   51 	push	af
                     000A    52 	C$_ulong2fs.c$63$1_0$21	= .
                             53 	.globl	C$_ulong2fs.c$63$1_0$21
                             54 ;_ulong2fs.c:63: if (!a)
   000A DD 7E 07      [19]   55 	ld	a, 7 (ix)
   000D DD B6 06      [19]   56 	or	a, 6 (ix)
   0010 DD B6 05      [19]   57 	or	a, 5 (ix)
   0013 DD B6 04      [19]   58 	or	a, 4 (ix)
   0016 20 08         [12]   59 	jr	NZ,00115$
                     0018    60 	C$_ulong2fs.c$65$2_0$22	= .
                             61 	.globl	C$_ulong2fs.c$65$2_0$22
                             62 ;_ulong2fs.c:65: return 0.0;
   0018 21 00 00      [10]   63 	ld	hl,#0x0000
   001B 5D            [ 4]   64 	ld	e,l
   001C 54            [ 4]   65 	ld	d,h
   001D C3rD5r00      [10]   66 	jp	00111$
                     0020    67 	C$_ulong2fs.c$68$1_0$21	= .
                             68 	.globl	C$_ulong2fs.c$68$1_0$21
                             69 ;_ulong2fs.c:68: while (a < HIDDEN)
   0020                      70 00115$:
   0020 0E 96         [ 7]   71 	ld	c, #0x96
   0022                      72 00103$:
   0022 DD 7E 06      [19]   73 	ld	a, 6 (ix)
   0025 D6 80         [ 7]   74 	sub	a, #0x80
   0027 DD 7E 07      [19]   75 	ld	a, 7 (ix)
   002A DE 00         [ 7]   76 	sbc	a, #0x00
   002C 30 13         [12]   77 	jr	NC,00118$
                     002E    78 	C$_ulong2fs.c$70$2_0$23	= .
                             79 	.globl	C$_ulong2fs.c$70$2_0$23
                             80 ;_ulong2fs.c:70: a <<= 1;
   002E DD CB 04 26   [23]   81 	sla	4 (ix)
   0032 DD CB 05 16   [23]   82 	rl	5 (ix)
   0036 DD CB 06 16   [23]   83 	rl	6 (ix)
   003A DD CB 07 16   [23]   84 	rl	7 (ix)
                     003E    85 	C$_ulong2fs.c$71$2_0$23	= .
                             86 	.globl	C$_ulong2fs.c$71$2_0$23
                             87 ;_ulong2fs.c:71: exp--;
   003E 0D            [ 4]   88 	dec	c
   003F 18 E1         [12]   89 	jr	00103$
                     0041    90 	C$_ulong2fs.c$74$1_0$21	= .
                             91 	.globl	C$_ulong2fs.c$74$1_0$21
                             92 ;_ulong2fs.c:74: while (a & NORM)
   0041                      93 00118$:
   0041                      94 00108$:
   0041 DD 7E 07      [19]   95 	ld	a, 7 (ix)
   0044 B7            [ 4]   96 	or	a, a
   0045 28 36         [12]   97 	jr	Z,00110$
                     0047    98 	C$_ulong2fs.c$77$2_0$24	= .
                             99 	.globl	C$_ulong2fs.c$77$2_0$24
                            100 ;_ulong2fs.c:77: if (a & 1)
   0047 DD CB 04 46   [20]  101 	bit	0, 4 (ix)
   004B 28 1D         [12]  102 	jr	Z,00107$
                     004D   103 	C$_ulong2fs.c$78$2_0$24	= .
                            104 	.globl	C$_ulong2fs.c$78$2_0$24
                            105 ;_ulong2fs.c:78: a += 2;
   004D DD 7E 04      [19]  106 	ld	a, 4 (ix)
   0050 C6 02         [ 7]  107 	add	a, #0x02
   0052 DD 77 04      [19]  108 	ld	4 (ix), a
   0055 DD 7E 05      [19]  109 	ld	a, 5 (ix)
   0058 CE 00         [ 7]  110 	adc	a, #0x00
   005A DD 77 05      [19]  111 	ld	5 (ix), a
   005D DD 7E 06      [19]  112 	ld	a, 6 (ix)
   0060 CE 00         [ 7]  113 	adc	a, #0x00
   0062 DD 77 06      [19]  114 	ld	6 (ix), a
   0065 30 03         [12]  115 	jr	NC,00149$
   0067 DD 34 07      [23]  116 	inc	7 (ix)
   006A                     117 00149$:
   006A                     118 00107$:
                     006A   119 	C$_ulong2fs.c$79$2_0$24	= .
                            120 	.globl	C$_ulong2fs.c$79$2_0$24
                            121 ;_ulong2fs.c:79: a >>= 1;
   006A DD CB 07 3E   [23]  122 	srl	7 (ix)
   006E DD CB 06 1E   [23]  123 	rr	6 (ix)
   0072 DD CB 05 1E   [23]  124 	rr	5 (ix)
   0076 DD CB 04 1E   [23]  125 	rr	4 (ix)
                     007A   126 	C$_ulong2fs.c$80$2_0$24	= .
                            127 	.globl	C$_ulong2fs.c$80$2_0$24
                            128 ;_ulong2fs.c:80: exp++;
   007A 0C            [ 4]  129 	inc	c
   007B 18 C4         [12]  130 	jr	00108$
   007D                     131 00110$:
                     007D   132 	C$_ulong2fs.c$83$1_0$21	= .
                            133 	.globl	C$_ulong2fs.c$83$1_0$21
                            134 ;_ulong2fs.c:83: a &= ~HIDDEN ;
   007D DD 7E 04      [19]  135 	ld	a, 4 (ix)
   0080 DD 77 04      [19]  136 	ld	4 (ix), a
   0083 DD 7E 05      [19]  137 	ld	a, 5 (ix)
   0086 DD 77 05      [19]  138 	ld	5 (ix), a
   0089 DD 7E 06      [19]  139 	ld	a, 6 (ix)
   008C E6 7F         [ 7]  140 	and	a, #0x7f
   008E DD 77 06      [19]  141 	ld	6 (ix), a
   0091 DD 7E 07      [19]  142 	ld	a, 7 (ix)
   0094 DD 77 07      [19]  143 	ld	7 (ix), a
                     0097   144 	C$_ulong2fs.c$85$1_0$21	= .
                            145 	.globl	C$_ulong2fs.c$85$1_0$21
                            146 ;_ulong2fs.c:85: fl.l = PACK(0,(unsigned long)exp, a);
   0097 21 00 00      [10]  147 	ld	hl, #0x0000
   009A 39            [11]  148 	add	hl, sp
   009B 06 00         [ 7]  149 	ld	b, #0x00
   009D 11 00 00      [10]  150 	ld	de, #0x0000
   00A0 3E 17         [ 7]  151 	ld	a, #0x17
   00A2                     152 00152$:
   00A2 CB 21         [ 8]  153 	sla	c
   00A4 CB 10         [ 8]  154 	rl	b
   00A6 CB 13         [ 8]  155 	rl	e
   00A8 CB 12         [ 8]  156 	rl	d
   00AA 3D            [ 4]  157 	dec	a
   00AB 20 F5         [12]  158 	jr	NZ,00152$
   00AD 79            [ 4]  159 	ld	a, c
   00AE DD B6 04      [19]  160 	or	a, 4 (ix)
   00B1 4F            [ 4]  161 	ld	c, a
   00B2 78            [ 4]  162 	ld	a, b
   00B3 DD B6 05      [19]  163 	or	a, 5 (ix)
   00B6 47            [ 4]  164 	ld	b, a
   00B7 7B            [ 4]  165 	ld	a, e
   00B8 DD B6 06      [19]  166 	or	a, 6 (ix)
   00BB 5F            [ 4]  167 	ld	e, a
   00BC 7A            [ 4]  168 	ld	a, d
   00BD DD B6 07      [19]  169 	or	a, 7 (ix)
   00C0 57            [ 4]  170 	ld	d, a
   00C1 71            [ 7]  171 	ld	(hl), c
   00C2 23            [ 6]  172 	inc	hl
   00C3 70            [ 7]  173 	ld	(hl), b
   00C4 23            [ 6]  174 	inc	hl
   00C5 73            [ 7]  175 	ld	(hl), e
   00C6 23            [ 6]  176 	inc	hl
   00C7 72            [ 7]  177 	ld	(hl), d
                     00C8   178 	C$_ulong2fs.c$87$1_0$21	= .
                            179 	.globl	C$_ulong2fs.c$87$1_0$21
                            180 ;_ulong2fs.c:87: return (fl.f);
   00C8 21 00 00      [10]  181 	ld	hl, #0x0000
   00CB 39            [11]  182 	add	hl, sp
   00CC 4E            [ 7]  183 	ld	c, (hl)
   00CD 23            [ 6]  184 	inc	hl
   00CE 46            [ 7]  185 	ld	b, (hl)
   00CF 23            [ 6]  186 	inc	hl
   00D0 5E            [ 7]  187 	ld	e, (hl)
   00D1 23            [ 6]  188 	inc	hl
   00D2 56            [ 7]  189 	ld	d, (hl)
   00D3 69            [ 4]  190 	ld	l, c
   00D4 60            [ 4]  191 	ld	h, b
   00D5                     192 00111$:
                     00D5   193 	C$_ulong2fs.c$88$1_0$21	= .
                            194 	.globl	C$_ulong2fs.c$88$1_0$21
                            195 ;_ulong2fs.c:88: }
   00D5 DD F9         [10]  196 	ld	sp, ix
   00D7 DD E1         [14]  197 	pop	ix
                     00D9   198 	C$_ulong2fs.c$88$1_0$21	= .
                            199 	.globl	C$_ulong2fs.c$88$1_0$21
                     00D9   200 	XG$__ulong2fs$0$0	= .
                            201 	.globl	XG$__ulong2fs$0$0
   00D9 C9            [10]  202 	ret
                            203 	.area _HOME
                            204 ;--------------------------------------------------------
                            205 ; code
                            206 ;--------------------------------------------------------
                            207 	.area _CODE
                            208 	.area _CODE
                            209 	.area _INITIALIZER
                            210 	.area _CABS (ABS)
